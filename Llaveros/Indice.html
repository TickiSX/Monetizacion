<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Llaveros UCQ | Índice</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>Llaveros UCQ</header>

  <nav>
    <a href="index.html">Inicio</a>
    <a href="indice.html" class="active">Índice</a>
    <a href="tienda.html">Tienda</a>
    <a href="carrito.html">Carrito</a>
    <a href="conocenos.html">Conócenos</a>
  </nav>

  <!-- Barra de progreso -->
  <div class="progreso-texto" id="progresoTexto">Progreso para recompensa</div>
  <div class="progreso-container">
    <div class="progreso-bar" id="progresoBar"></div>
  </div>

  <main>
    <h2>Índice de Llaveros</h2>
    <p style="text-align:center;">Visualiza los llaveros que tienes y los que te faltan.</p>

    <!-- Contenedor para llaveros generados dinámicamente -->
    <div id="llaverosContainer" class="grid-llaveros">
      
      <!-- Lista de llaveros editable individualmente -->
      <div class="llavero"
           data-nombre="Gatita Gymrat"
           data-imagen="img/gymrat.jpg"
           data-conseguido="true"
           data-enlace="indice/i-gatita-gymrat.html"></div>

      <div class="llavero"
           data-nombre="Gatita Gamer/Animación"
           data-imagen="img/gamer.jpg"
           data-conseguido="false"
           data-enlace="indice/i-gatita-gamer.html"></div>

      <div class="llavero"
           data-nombre="Gatita KNY"
           data-imagen="img/kny.jpg"
           data-conseguido="true"
           data-enlace="indice/i-gatita-kny.html"></div>

      <div class="llavero"
           data-nombre="Gatita Odonto"
           data-imagen="img/odonto.jpg"
           data-conseguido="false"
           data-enlace="indice/i-gatita-odonto.html"></div>

      <div class="llavero"
           data-nombre="Gatita Dormida"
           data-imagen="img/dormida.jpg"
           data-conseguido="true"
           data-enlace="indice/i-gatita-dormida.html"></div>

      <div class="llavero"
           data-nombre="Gatita Hello Kitty"
           data-imagen="img/hello.jpg"
           data-conseguido="false"
           data-enlace="indice/i-gatita-hello-kitty.html"></div>

      <div class="llavero"
           data-nombre="Gatita Cinnamoroll"
           data-imagen="img/cinnamoroll.jpg"
           data-conseguido="true"
           data-enlace="indice/i-gatita-cinnamoroll.html"></div>

      <div class="llavero"
           data-nombre="Gatita My Melody"
           data-imagen="img/my-melody.jpg"
           data-conseguido="false"
           data-enlace="indice/i-gatita-my-melody.html"></div>

      <div class="llavero"
           data-nombre="Gatita Kuromi"
           data-imagen="img/kuromi.jpg"
           data-conseguido="true"
           data-enlace="indice/i-gatita-kuromi.html"></div>

      <div class="llavero"
           data-nombre="Gatita Plátano"
           data-imagen="img/platano.jpg"
           data-conseguido="false"
           data-enlace="indice/i-gatita-platano.html"></div>

    </div>
  </main>

  <footer>© 2025 Llaveros UCQ</footer>

  <script>
  document.addEventListener("DOMContentLoaded", () => {

    const container = document.getElementById('llaverosContainer');
    const progresoBar = document.getElementById('progresoBar');
    const progresoTexto = document.getElementById('progresoTexto');

    if (container) {
      const llaveros = Array.from(container.querySelectorAll('.llavero')).map(div => ({
        nombre: div.dataset.nombre,
        imagen: div.dataset.imagen,
        conseguido: div.dataset.conseguido === "true",
        enlace: div.dataset.enlace
      }));

      llaveros.forEach(llavero => {
        const tarjeta = document.createElement('a');
        tarjeta.className = 'tarjeta-llavero ' + (llavero.conseguido ? 'conseguido' : 'faltante');
        tarjeta.href = llavero.enlace;
        tarjeta.innerHTML = `
          <img src="${llavero.imagen}" alt="${llavero.nombre}">
          <div class="nombre">${llavero.nombre}</div>
          <div class="estado">${llavero.conseguido ? 'Conseguido' : 'Faltante'}</div>
        `;
        container.appendChild(tarjeta);
      });

      // Actualiza barra de progreso
      const total = llaveros.length;
      const conseguidos = llaveros.filter(l => l.conseguido).length;
      const porcentaje = Math.round((conseguidos / total) * 100);
      progresoBar.style.width = porcentaje + '%';
      progresoTexto.textContent = `Progreso para recompensa: ${porcentaje}%`;
    }

  });
  </script>
</body>
</html>
